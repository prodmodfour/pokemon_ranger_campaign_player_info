# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Git Identity

Always configure git to push as **prodmodfour**:
```bash
git config user.name "prodmodfour"
```

Never include AI attribution in commits, code comments, or documentation. Do not add "Generated by", "Co-Authored-By: Claude", or similar markers.

## Commands

```bash
npm run dev        # Start development server at http://localhost:3000/pokemon_ttrpg/
npm run generate   # Build static site to .output/public/ for GitHub Pages
npm run parse      # Re-parse Combined_Pokedex.md into JSON data files
npm run preview    # Preview production build locally
```

## Architecture

**Nuxt 3 Static Site** for Pokemon Tabletop United Pokedex with 877 Pokemon entries.

### Data Pipeline

```
books/markdown/Combined_Pokedex.md
    ↓ (npm run parse)
scripts/parse-pokedex.js
    ↓
data/*.json (pokemon, moves, abilities, types, capabilities)
    ↓
composables/ (load and expose data)
    ↓
components/ (render UI)
```

### Key Composables

- **`usePokedex()`** - Pokemon data, filtering (searchQuery, selectedTypes, filteredPokemon), type colors
- **`useDefinitions()`** - Lookup moves/abilities/types/capabilities, modal state (showDefinition, closeModal)

### Component Structure

- **`PokemonCard.vue`** - Grid card showing Pokemon summary
- **`PokemonDetail.vue`** - Full detail modal with Stats/Moves/Info tabs
- **`DefinitionModal.vue`** - Popup for move/ability/type definitions (triggered by showDefinition)
- **`SearchBar.vue`** - Search input with Ctrl+K shortcut
- **`FilterPanel.vue`** - Type/habitat/size filters
- **`TypeBadge.vue`** - Colored type pill

### Patterns

- All filtering happens client-side via Vue computed properties in `usePokedex`
- Clickable terms (moves, abilities, types) call `showDefinition(term, category)` from `useDefinitions`
- Dark theme using Tailwind: backgrounds are `bg-gray-800`/`bg-gray-900`, text is `text-gray-100`/`text-gray-200`
- Pokemon type colors defined in `tailwind.config.js` and `data/types.json`

## Configuration

- **SSR disabled** (`ssr: false` in nuxt.config.ts) - static generation only
- **Base URL**: `/pokemon_ttrpg/` for GitHub Pages subdirectory deployment
- **Type colors**: Extend theme in `tailwind.config.js` under `colors.pokemon`

## Data Types

The `Pokemon` interface in `composables/usePokedex.ts` defines the structure including:
- baseStats (hp, attack, defense, special_attack, special_defense, speed)
- types, abilities (basic, advanced, high), evolution chain
- moves (levelUp with level/name/type, tmHm, egg, tutor as string arrays)
- capabilities, skills, size, breeding info
